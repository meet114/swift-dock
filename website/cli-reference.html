<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>CLI Reference - Swiftdock</title>
    <link rel="stylesheet" href="css/style.css">
    <style>
        .doc-content { max-width: 900px; margin: 0 auto; padding: 3rem 20px; }
        .doc-content h1 { font-size: 2.5rem; margin-bottom: 1rem; }
        .doc-content h2 { font-size: 2rem; margin-top: 3rem; margin-bottom: 1.5rem; border-bottom: 2px solid var(--border); padding-bottom: 0.5rem; }
        .doc-content h3 { font-size: 1.5rem; margin-top: 2rem; margin-bottom: 1rem; color: var(--accent); }
        .command { background: var(--bg-secondary); border: 1px solid var(--border); border-radius: 12px; padding: 2rem; margin: 2rem 0; }
        .command-usage { font-family: 'Monaco', monospace; background: var(--bg-code); padding: 1rem; border-radius: 6px; margin: 1rem 0; }
    </style>
</head>
<body>
    <nav class="navbar">
        <div class="container">
            <div class="nav-brand"><h1>Swiftdock</h1></div>
            <div class="nav-links">
                <a href="index.html">Home</a>
                <a href="getting-started.html">Getting Started</a>
                <a href="api-reference.html">API Reference</a>
                <a href="cli-reference.html">CLI Reference</a>
                <a href="architecture.html">Architecture</a>
                <a href="https://github.com/meetsaspara/swiftdock" target="_blank">GitHub</a>
            </div>
            <button class="theme-toggle" id="themeToggle">Theme</button>
        </div>
    </nav>

    <main class="doc-content">
        <h1>CLI Reference</h1>
        <p>Complete reference for all Swiftdock command-line interface commands.</p>

        <div class="command">
            <h2>swiftdock pull</h2>
            <p>Pull an OCI/Docker image from a registry.</p>
            
            <h3>Usage</h3>
            <div class="command-usage">swift run swiftdock pull &lt;IMAGE&gt;</div>
            
            <h3>Arguments</h3>
            <ul>
                <li><code>&lt;IMAGE&gt;</code> - Image reference (e.g., <code>alpine:latest</code>, <code>nginx:1.21</code>)</li>
            </ul>
            
            <h3>Examples</h3>
            <div class="code-example">
                <pre><code># Pull Alpine Linux
swift run swiftdock pull alpine:latest

# Pull specific version
swift run swiftdock pull ubuntu:22.04

# Pull from Docker Hub (default)
swift run swiftdock pull nginx:latest</code></pre>
            </div>
        </div>

        <div class="command">
            <h2>swiftdock run</h2>
            <p>Create and start a container from an image.</p>
            
            <h3>Usage</h3>
            <div class="command-usage">swift run swiftdock run &lt;IMAGE&gt; -- &lt;COMMAND&gt; [ARGS...]</div>
            
            <h3>Arguments</h3>
            <ul>
                <li><code>&lt;IMAGE&gt;</code> - Image reference</li>
                <li><code>--</code> - Separator (required)</li>
                <li><code>&lt;COMMAND&gt;</code> - Command to execute in the container</li>
                <li><code>[ARGS...]</code> - Additional arguments to pass to the command</li>
            </ul>
            
            <h3>Examples</h3>
            <div class="code-example">
                <pre><code># Run echo command
swift run swiftdock run alpine:latest -- echo "Hello World"

# Run shell command with arguments
swift run swiftdock run alpine:latest -- sh -c "echo 'Multiple commands'"

# Run a simple command
swift run swiftdock run ubuntu:latest -- whoami</code></pre>
            </div>

            <h3>Output</h3>
            <div class="code-example">
                <pre><code>Creating container for alpine:latest...
Created 6B53E52E-B2EC-435D-B957-B5202C1E5677
Starting...
Started with PID 85965
(Polling for exit...)
Container exited.
Hello World</code></pre>
            </div>
        </div>

        <div class="command">
            <h2>swiftdock ps</h2>
            <p>List all containers (running and exited).</p>
            
            <h3>Usage</h3>
            <div class="command-usage">swift run swiftdock ps</div>
            
            <h3>Output Format</h3>
            <p>Displays containers in a table format:</p>
            <div class="code-example">
                <pre><code>CONTAINER ID    IMAGE           STATUS  PID
6B53E52E-B2E    alpine:latest   exited  85965
2DF48833-0B9    alpine:latest   created 0</code></pre>
            </div>

            <h3>Status Values</h3>
            <ul>
                <li><code>created</code> - Container created but not started</li>
                <li><code>running</code> - Container is currently running</li>
                <li><code>exited</code> - Container has finished execution</li>
            </ul>
        </div>

        <div class="command">
            <h2>swiftdock logs</h2>
            <p>Fetch stdout/stderr logs from a container.</p>
            
            <h3>Usage</h3>
            <div class="command-usage">swift run swiftdock logs &lt;CONTAINER_ID&gt;</div>
            
            <h3>Arguments</h3>
            <ul>
                <li><code>&lt;CONTAINER_ID&gt;</code> - Full container ID (UUID)</li>
            </ul>
            
            <h3>Examples</h3>
            <div class="code-example">
                <pre><code># Get logs from a container
swift run swiftdock logs 6B53E52E-B2EC-435D-B957-B5202C1E5677</code></pre>
            </div>

            <h3>Note</h3>
            <p>You must use the <strong>full container ID</strong>, not the truncated version shown in <code>ps</code>. Get the full ID from the <code>run</code> command output.</p>
        </div>

        <h2>Global Behavior</h2>
        <ul>
            <li>All commands require the daemon (<code>swiftdockd</code>) to be running</li>
            <li>Commands communicate with the daemon via HTTP on <code>localhost:8080</code></li>
            <li>If the daemon is not running, you'll see: <code>Could not connect to swiftdockd daemon</code></li>
        </ul>
    </main>

    <footer>
        <div class="container">
            <p>&copy; 2026 Swiftdock. MIT Licensed. Built for macOS.</p>
        </div>
    </footer>

    <script src="js/main.js"></script>
</body>
</html>
